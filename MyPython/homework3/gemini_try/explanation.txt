Това е отлично задание за упражняване на работа с API-та и структуриране на Python 
проекти. По-долу е представено пълното решение, разделено на съответните файлове и 
спазващо всички описани изисквания (Type Hints, Pagination, Custom Exceptions, Genre 
Logic и pyproject.toml).

Структура на проекта

homework/
├── pyproject.toml
└── tmdb_sdk/
    ├── __init__.py
    ├── client.py
    ├── exceptions.py
    └── models.py

1. pyproject.toml
Този файл дефинира пакета и неговите зависимости.
(виж pyproject.toml)

2. tmdb_sdk/exceptions.py
Дефиниране на йерархията от грешки.
(виж exceptions.py)

3. tmdb_sdk/models.py
Тук се намират dataclasses и логиката за жанровите заявки (операторите & и |).
(виж models.py)

4. tmdb_sdk/client.py
Основната логика: комуникация с API-то, пагинация, мапване на данни към моделите.
(виж client.py)

5. tmdb_sdk/__init__.py
За удобство при импортиране.
(виж __init__.py)

Ключови бележки по решението:
Pagination (_fetch_paginated): Тази функционалност е изолирана в private метод в 
client.py, за да не се повтаря кода в discover/search методите. Тя върти цикъл, 
докато не събере limit резултати или не свършат страниците.

Genre Logic: Имплементирах __and__ и __or__ методите и в Genre, и в 
GenreQuery. Това позволява chaining (напр. g1 & g2 & g3). Резултатът винаги се
конвертира до стринг в правилен формат (id,id или id|id) чрез __str__ метода
на GenreQuery, което се използва директно в параметрите на requests.

Data Mapping (_map_to_model): API-то на TMDB често връща повече полета от тези, 
които са поискани в условието (dataclasses). За да избегна TypeError при 
създаването на обекти, филтрирам речника с данни, като оставям само ключове, 
които съществуват в модела.

Exceptions: Не се използва raise_for_status(). Вместо това, _check_response 
проверява ръчно кода и хвърля дефинираните от нас изключения.

Type Hints: Използвани са навсякъде за максимална яснота и съответствие с 
изискванията.

Как да тествате (пример с main.py):
Запазете файла main.py в главната директория (при pyproject.toml) и стартирайте:
(виж main.py)